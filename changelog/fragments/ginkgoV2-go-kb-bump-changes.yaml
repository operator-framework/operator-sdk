# entries is a list of entries to include in
# release notes and/or the migration guide
entries:
  - description: >
      Modified go version to 1.19 in all the places and Kubebuilder to k8s 1.25
      The `config-gen` is completely removed from Kubebuilder. As part of this bump, the website content of SDK was updated where the doc is referring to `config-gen`. 
    kind: "change"
    breaking: false
    migration:
      header: Kubebuilder bump brought changes that modified the `Makefile` scaffolding and also `multiarch` chanegs are also included.
      body: | 
        1. Updated the addTestE2eMaekefileTarget() target where Makefile content is used as below.

            ```sh
                `KUBEBUILDER_ASSETS="$(shell $(ENVTEST) use $(ENVTEST_K8S_VERSION) --bin-dir $(LOCALBIN) -p path)" go test ./... -coverprofile cover.out`,
            ```
        2. Kubebuiler bump also added multiple architecture support changes to the Makefile whenre docker buildx is used.  This change will support more than one platform.

            ```sh
            PLATFORMS ?= linux/arm64,linux/amd64,linux/s390x,linux/ppc64le
            .PHONY: docker-buildx
            docker-buildx: test ## Build and push docker image for the manager for cross-platform support
              # copy existing Dockerfile and insert --platform=${BUILDPLATFORM} into Dockerfile.cross, and preserve the original Dockerfile
              sed -e '1 s/\(^FROM\)/FROM --platform=\$$\{BUILDPLATFORM\}/; t' -e ' 1,// s//FROM --platform=\$$\{BUILDPLATFORM\}/' Dockerfile > Dockerfile.cross
              - docker buildx create --name project-v3-builder
              docker buildx use project-v3-builder
              - docker buildx build --push --platform=$(PLATFORMS) --tag ${IMG} -f Dockerfile.cross
              - docker buildx rm project-v3-builder
              rm Dockerfile.cross
            ```
        3. Updated testdata `go.mod` file with the k8s 1.25 depedencies. In the go.mod file, ensure the following depedencies versions and run `go mod tidy`:

            ```go
              	github.com/onsi/ginkgo/v2 v2.1.4
                github.com/onsi/gomega v1.19.0
                github.com/prometheus/client_golang v1.12.2
                k8s.io/api v0.25.0
                k8s.io/apimachinery v0.25.0
                k8s.io/client-go v0.25.0
                sigs.k8s.io/controller-runtime v0.13.0
            ```
  - description: >
      Updated ginkgo to ginkgo/v2 in all of the files. The reason behind it is Kubebuilder updated to ginkgo/v2.
      These changes raised one issue where the Labels field is used by ginkgo/v2. Same field name is already defined in SDK that was causing the issue. I updated the SDK field Labels to LabelsMap to avoid the issue caused due to the same name.
    kind: "change"
    breaking: false
  - description: >
      Updated all the `io/ioutil` imported package to either `io` or `os`. `io/ioutil` got deprecated in 1.16 and no longer it is used. Updated all the files in SDK.
    kind: "change"
    breaking: false